const t=self,a=location.hostname==="localhost"?"https://localhost:32769":"https://tochange.com",n=async s=>await(await fetch(`${a}/api/subscription`,{method:"POST",headers:{"Accept-Content":"application/json","Content-Type":"application/json"},body:JSON.stringify(s)})).json();t.addEventListener("activate",async()=>{const s=await t.registration.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:"BDRd50z5ESS32mFqaLVJIT-Ap-EgwELoHWo2BFa5_oZSGHKLtQcM3w4-nEA2XOnM6QMN1zYApbs4SjjQgt56rQk"});await n(s)});t.addEventListener("push",()=>{t.registration.getNotifications()});
