const e=self,s=async t=>await(await fetch("http://localhost:32768/api/subscription",{method:"POST",headers:{"Accept-Content":"application/json"},body:JSON.stringify(t)})).json();e.addEventListener("activate",async()=>{const t=await e.registration.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:"BDRd50z5ESS32mFqaLVJIT-Ap-EgwELoHWo2BFa5_oZSGHKLtQcM3w4-nEA2XOnM6QMN1zYApbs4SjjQgt56rQk"});await s({endpoint:t.endpoint,p256dh:t.getKey("p256dh"),auth:t.getKey("auth")})});e.addEventListener("push",()=>{e.registration.getNotifications()});
