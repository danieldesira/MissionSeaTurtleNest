<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Turtle Escape</title>
    <link rel="manifest" href="./manifest.json" />
    <link rel="icon" href="favicon.svg" />
    <meta property="og:title" content="Turtle Core" />
    <meta property="og:description" content="Educational game for kids" />
    <meta
      property="og:image"
      content="https://turtle-quest.vercel.app/images/screenshot.png"
    />
    <meta property="og:image:alt" content="Gameplay screenshot" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Turtle Core" />
    <meta name="twitter:description" content="Educational game for kids" />
    <meta
    name="twitter:image"
    content="https://turtle-quest.vercel.app/images/screenshot.png"
    />
    <script src="https://accounts.google.com/gsi/client" async defer></script>
    <script type="module" src="src/main.ts" blocking="render"></script>
  </head>
  <body class="bg-primary select-none touch-none">
    <template id="menuItemTemplate">
      <style>
        span {
          @apply text-primary text-5xl;
        }
      </style>
      <span role="button"><slot></slot></span>
    </template>
    <template id="prettyDialogTemplate">
      <style>
        dialog:open {
          @apply inset-0 border-0 flex flex-col gap-2 items-center justify-center text-white w-4/5 opacity-80 focus:opacity-95 transition-opacity duration-500 bg-gray-900 p-5 rounded-3xl max-w-xl z-50 animate-pulse animate-[500ms];
        }

        .heading {
          @apply flex justify-center items-center gap-2 border-b-white border-b-2 pb-2;
        }

        .title {
          @apply text-xl font-extrabold;
        }

        .content {
          @apply flex flex-col gap-2;
        }

        .footer {
          @apply flex gap-2 items-center;
        }
      </style>
      <dialog 
        role="dialog"
      >
        <div class="heading">
          <GiTurtleShell />
          <h1 class="title"><slot name="title"></slot></h1>
        </div>
        <div class="content">
          <slot name="content"></slot>
        </div>
        <div class="footer">
          <slot name="footer"></slot>
        </div>
      </dialog>
    </template>
    <template id="prettyButtonTemplate">
      <style>
        button {
          @apply rounded-md text-xl text-white pl-2 pr-2 w-fit flex gap-2 items-center border-0;
        }

        .default {
          @apply bg-primary;
        }

        .danger {
          @apply bg-danger;
        }
      </style>
      <button
        type="button"
        role="button"
        class="default"
      >
        <slot></slot>
      </button>
    </template>
    <div class="max-w-screen max-h-screen portrait:hidden">
    <div
      class="flex flex-col justify-between bg-cute bg-no-repeat bg-center bg-cover p-5 items-center h-screen w-screen"
    >
      <div class="flex gap-5 justify-center items-center">
        <h1
          id="title"
          class="text-5xl font-bold"
          role="button"
        >
          <span class="text-emerald-300">Turtle</span>
          <span class="text-cyan-500">Core</span>
        </h1>
        <span class="text-sm font-light">Beta</span>
        <a
          href="{socials.instagram.url}"
          target="_blank"
          title="{socials.instagram.tooltip}"
        >
          <socials.instagram.Icon class="text-primary text-4xl" />
        </a>
        <a
          href="{socials.youtube.url}"
          target="_blank"
          title="{socials.youtube.tooltip}"
        >
          <socials.youtube.Icon class="text-primary text-4xl" />
        </a>
        <LoginButtons />
      </div>
      <div class="flex flex-col items-center gap-5">
        <menu-item id="newGameBtn">New Game</menu-item>
        <menu-item id="continueGameBtn">Continue Game</menu-item>
        <menu-item id="instructionsBtn">Instructions</menu-item>
      </div>
    </div>
    <div
      class="landscape:hidden flex justify-center items-center bg-red-700"
    >
      <p class="text-white">
        Unable to play game in portrait mode. Please switch your device to
        landscape mode or install the Progressive Web App in Chrome, Edge or
        Firefox with the Progressive Web App addon.
      </p>
    </div>
    <pretty-dialog id="instructionsDialog">
      <span slot="title">Instructions</span>
      <div slot="content" class="text-center">
        <div className="flex flex-col gap-1">
        <p>
          Help Peppa the loggerhead turtle to her nesting grounds. Use the
          provided on-screen arrows to move the turtle. W,A,S,D or arrow keys
          may also be used to control the turtle.
        </p>
        <p>
          Move Peppa to the right end of the screen in order to pass each level.
          Eat prey and avoid obstacles.
        </p>
        <p>Good luck!</p>
        <p>
          Yours turtley,
          <br />
          Daniel - Game Developer
        </p>
      </div>
      <figure className="flex flex-col justify-center items-center gap-1">
        <img
          src="/images/babyTurtle.jpg"
          alt="Baby turtle"
          className="w-full"
        />
        <figcaption className="font-light italic text-sm">
          Photo by Steff Cutajar from GÄ§adira nest excavation (2025)
        </figcaption>
      </figure>
      </div>
      <div slot="footer">
        <pretty-button>Close</pretty-button>
      </div>
    </pretty-dialog>
    <pretty-dialog id="aboutDialog">
      <span slot="title">About Turtle Core</span>
      <div slot="content">
        <div className="flex flex-col justify-center gap-2">
          <div className="flex justify-between">
            <a
              id="version"
              href="https://github.com/danieldesira/TurtleQuest/blob/master/changelog.md"
              target="_blank"
              title="Changelog"
            >
            </a>
            <div className="flex gap-2">
              <a
                href="https://github.com/danieldesira/TurtleQuest/blob/master/contributors.md"
                target="_blank"
                title="Credits"
              >
                Credits
              </a>
              <a
                href="https://github.com/danieldesira/TurtleQuest/blob/master/license.md"
                target="_blank"
                title="License"
              >
                License
              </a>
              <a
                href="https://github.com/danieldesira/TurtleQuest/blob/master/DEDICATIONS.md"
                target="_blank"
                title="License"
              >
                Dedications
              </a>
            </div>
            <div className="flex gap-2">
              <a
                href={socials.github.url}
                target="_blank"
                title={socials.github.tooltip}
              >
                <socials.github.Icon />
              </a>
              <a
                href={socials.instagram.url}
                target="_blank"
                title={socials.instagram.tooltip}
              >
                <socials.instagram.Icon />
              </a>
              <a
                href={socials.youtube.url}
                target="_blank"
                title={socials.youtube.tooltip}
              >
                <socials.youtube.Icon />
              </a>
            </div>
          </div>
        </div>
      </div>
      <div slot="footer">
        <pretty-button>Close</pretty-button>
      </div>
    </pretty-dialog>
  </body>
</html>
